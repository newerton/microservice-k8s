# apiVersion: v1
# kind: Secret
# metadata:
#   namespace: nestjs-k8s
#   name: registry-secret
# stringData:
#   .dockerconfigjson: |
#     {"auths":{"registry.gitlab.com":{"auth":"AUTH_SECRET_KEY"}}}
# type: kubernetes.io/dockerconfigjson
apiVersion: v1
kind: Secret
metadata:
  namespace: {{ include "app.namespace" . }}
  name: api-gateway-secret
type: Opaque
stringData:
{{ $.Files.Get (printf "env/api-gateway/%s.yaml" .Values.mode) | indent 4 }}
